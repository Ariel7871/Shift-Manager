{% extends 'base.html' %}
{% block content %}

<!-- Navigation Links -->
<div class="schedule-navigation">
    <a href="{{ url_for('index') }}"><i class="fa-solid fa-home"></i> Home</a>
    <a href="{{ url_for('choose_schedule') }}"><i class="fa-solid fa-calendar-plus"></i> New Schedule</a>
    <a href="{{ url_for('view_all_schedule') }}"><i class="fa-solid fa-users"></i> Team View</a>
</div>

<!-- Week Options -->
<div class="week-options">
    <a href="#" class="week-option active">This Week</a>
    <a href="#" class="week-option">Next Week</a>
    {% for option in week_options %}
        <a href="{{ url_for('schedule', user_id=user['id'], week_index=option.index) }}" 
           class="week-option">{{ option.label }}</a>
    {% endfor %}
</div>

<!-- Schedule Title -->
<div class="schedule-title">
    <i class="fa-solid fa-calendar-week"></i>
    Set Your Shifts for This Week
</div>

<form method="POST">
    <table class="schedule-table">
        <thead>
            <tr>
                <th>Day</th>
                <th>Shift Type</th>
            </tr>
        </thead>
        <tbody>
            <!-- Sunday -->
            <tr>
                <td>Sunday</td>
                <td>
                    <div class="morning-shift">
                        <i class="fa-solid fa-sun"></i> Morning Shift
                        <input type="hidden" name="{{ week }}_Sunday" value="Day">
                    </div>
                </td>
            </tr>
            
            <!-- Other Days -->
            {% for day in ['Monday', 'Tuesday', 'Wednesday', 'Thursday'] %}
            <tr>
                <td>{{ day }}</td>
                <td>
                    <div class="shift-group">
                        <label class="shift-option day">
                            <input type="radio" name="{{ week }}_{{ day }}" value="Day" 
                                   {% if prefill.get(day)=='Day' %}checked{% endif %}>
                            <i class="fa-solid fa-sun"></i> Day
                        </label>
                        
                        <label class="shift-option night">
                            <input type="radio" name="{{ week }}_{{ day }}" value="Night"
                                   {% if prefill.get(day)=='Night' %}checked{% endif %}>
                            <i class="fa-solid fa-moon"></i> Night
                        </label>
                        
                        <label class="shift-option ooo">
                            <input type="radio" name="{{ week }}_{{ day }}" value="OOO"
                                   {% if prefill.get(day)=='OOO' %}checked{% endif %}>
                            <i class="fa-solid fa-ban"></i> OOO
                        </label>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="submit-buttons">
        <button type="submit" name="action" value="move_next" class="submit-button primary">
            <i class="fa-solid fa-paper-plane"></i> Submit & Next Week
        </button>
        <button type="submit" name="action" value="only_this_week" class="submit-button">
            <i class="fa-solid fa-check"></i> Submit Only
        </button>
    </div>
</form>

{% endblock %}